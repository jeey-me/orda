<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ë¥´ë‹¤ - Company</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }
        
        .layout {
            display: flex;
            min-height: 100vh;
        }
        
        /* ì‚¬ì´ë“œë°” */
        .sidebar {
            width: 260px;
            background: white;
            border-right: 1px solid #e9ecef;
            padding: 0;
            box-shadow: 2px 0 10px rgba(0,0,0,0.05);
        }
        
        .logo-section {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF5252 100%);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .logo-subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .nav-menu {
            padding: 1.5rem 0;
        }
        
        .nav-item {
            padding: 1rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .nav-item:hover {
            background-color: #f8f9fa;
            border-left-color: #FF6B6B;
        }
        
        .nav-item.active {
            background-color: #fff3f3;
            border-left-color: #FF6B6B;
            color: #FF6B6B;
            font-weight: 600;
        }
        
        .nav-icon {
            font-size: 1.1rem;
            width: 20px;
        }
        
        /* ë©”ì¸ ì½˜í…ì¸  */
        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }
        
        /* í˜ì´ì§€ í—¤ë” */
        .page-header {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .breadcrumb {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .page-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .page-subtitle {
            color: #6c757d;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        /* ê²€ìƒ‰ ë° í•„í„° */
        .search-filter-section {
            background: white;
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .search-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #FF6B6B;
        }
        
        .search-icon {
            position: absolute;
            left: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }
        
        .filter-select {
            padding: 0.8rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }
        
        .filter-select:focus {
            outline: none;
            border-color: #FF6B6B;
        }
        
        /* ê¸°ì—… ëª©ë¡ */
        .companies-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .sort-controls {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        
        .sort-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #e9ecef;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .sort-btn:hover {
            border-color: #FF6B6B;
        }
        
        .sort-btn.active {
            background: #FF6B6B;
            color: white;
            border-color: #FF6B6B;
        }
        
        .companies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }
        
        .company-card {
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .company-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
            border-color: #FF6B6B;
        }
        
        .company-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .company-info {
            flex: 1;
        }
        
        .company-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 0.3rem;
        }
        
        .company-code {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .company-sector {
            background: #e3f2fd;
            color: #1976d2;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .company-price {
            text-align: right;
        }
        
        .current-price {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .price-change {
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 0.2rem;
        }
        
        .price-up {
            color: #dc3545;
        }
        
        .price-down {
            color: #007bff;
        }
        
        .company-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 1rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 0.2rem;
        }
        
        .company-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .action-btn {
            padding: 0.6rem 1rem;
            border: none;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF5252 100%);
            color: white;
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #495057;
            border: 1px solid #e9ecef;
        }
        
        .action-btn:hover {
            transform: translateY(-1px);
        }
        
        /* í˜ì´ì§€ë„¤ì´ì…˜ */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }
        
        .page-btn {
            padding: 0.6rem 1rem;
            border: 1px solid #e9ecef;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .page-btn:hover {
            border-color: #FF6B6B;
        }
        
        .page-btn.active {
            background: #FF6B6B;
            color: white;
            border-color: #FF6B6B;
        }
        
        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .layout {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                order: 2;
            }
            
            .main-content {
                order: 1;
                padding: 1rem;
            }
            
            .search-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .companies-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="layout">
        <!-- ì‚¬ì´ë“œë°” -->
        <div class="sidebar">
            <div class="logo-section">
                <div class="logo">ì˜¤ë¥´ë‹¤</div>
                <div class="logo-subtitle">íˆ¬ì í•™ìŠµ í”Œë«í¼</div>
            </div>
            <div class="nav-menu">
                <div class="nav-item" onclick="navigateTo('home')">
                    <span class="nav-icon">ğŸ </span>
                    <span>Home</span>
                </div>
                <div class="nav-item" onclick="navigateTo('news')">
                    <span class="nav-icon">ğŸ“°</span>
                    <span>News</span>
                </div>
                <div class="nav-item" onclick="navigateTo('sector')">
                    <span class="nav-icon">ğŸ­</span>
                    <span>Sector</span>
                </div>
                <div class="nav-item active" onclick="navigateTo('company')">
                    <span class="nav-icon">ğŸ¢</span>
                    <span>Company</span>
                </div>
                <div class="nav-item" onclick="navigateTo('mock-invest')">
                    <span class="nav-icon">ğŸ“ˆ</span>
                    <span>Mock Invest</span>
                </div>
            </div>
        </div>
        
        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="main-content">
            <!-- í˜ì´ì§€ í—¤ë” -->
            <div class="page-header">
                <div class="breadcrumb">Home â†’ Company</div>
                <h1 class="page-title">ğŸ¢ ê¸°ì—… ë¶„ì„</h1>
                <p class="page-subtitle">
                    ìƒì¥ ê¸°ì—…ë³„ ì¬ë¬´ ì •ë³´ì™€ ê´€ë ¨ ì´ìŠˆë¥¼ ë¶„ì„í•´ë³´ì„¸ìš”
                </p>
            </div>
            
            <!-- ê²€ìƒ‰ ë° í•„í„° -->
            <div class="search-filter-section">
                <div class="search-controls">
                    <div class="search-box">
                        <span class="search-icon">ğŸ”</span>
                        <input type="text" class="search-input" placeholder="ê¸°ì—…ëª…, ì¢…ëª©ì½”ë“œ ê²€ìƒ‰..." id="company-search">
                    </div>
                    <select class="filter-select" id="sector-filter">
                        <option value="">ì „ì²´ ì„¹í„°</option>
                        <option value="IT ì„œë¹„ìŠ¤">IT ì„œë¹„ìŠ¤</option>
                        <option value="ë°˜ë„ì²´">ë°˜ë„ì²´</option>
                        <option value="ì •ìœ ">ì •ìœ </option>
                        <option value="ë°©ìœ„ì‚°ì—…">ë°©ìœ„ì‚°ì—…</option>
                        <option value="í™”í•™">í™”í•™</option>
                        <option value="ê¸ˆìœµì—…">ê¸ˆìœµì—…</option>
                    </select>
                    <select class="filter-select" id="market-filter">
                        <option value="">ì „ì²´ ì‹œì¥</option>
                        <option value="KOSPI">KOSPI</option>
                        <option value="KOSDAQ">KOSDAQ</option>
                    </select>
                </div>
            </div>
            
            <!-- ê¸°ì—… ëª©ë¡ -->
            <div class="companies-section">
                <div class="section-header">
                    <h2 class="section-title">ê¸°ì—… ëª©ë¡</h2>
                    <div class="sort-controls">
                        <button class="sort-btn active" onclick="sortCompanies('name')">ì´ë¦„ìˆœ</button>
                        <button class="sort-btn" onclick="sortCompanies('price')">ì£¼ê°€ìˆœ</button>
                        <button class="sort-btn" onclick="sortCompanies('change')">ë“±ë½ìˆœ</button>
                    </div>
                </div>
                
                <div class="companies-grid" id="companies-container">
                    <!-- ê¸°ì—… ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
                
                <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
                <div class="pagination">
                    <button class="page-btn">â€¹</button>
                    <button class="page-btn active">1</button>
                    <button class="page-btn">2</button>
                    <button class="page-btn">3</button>
                    <button class="page-btn">â€º</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ê¸°ì—… ë°ì´í„°
        const companiesData = [
            {
                id: 1,
                name: "ì‚¼ì„±ì „ì",
                code: "005930",
                sector: "ë°˜ë„ì²´",
                market: "KOSPI",
                price: 74800,
                change: "+1200",
                changeRate: "+1.63%",
                marketCap: "447ì¡°ì›",
                per: "15.2",
                pbr: "1.4",
                isUp: true
            },
            {
                id: 2,
                name: "SKí•˜ì´ë‹‰ìŠ¤",
                code: "000660",
                sector: "ë°˜ë„ì²´",
                market: "KOSPI",
                price: 89600,
                change: "-800",
                changeRate: "-0.88%",
                marketCap: "65ì¡°ì›",
                per: "12.8",
                pbr: "1.1",
                isUp: false
            },
            {
                id: 3,
                name: "S-OIL",
                code: "010950",
                sector: "ì •ìœ ",
                market: "KOSPI",
                price: 68900,
                change: "+2100",
                changeRate: "+3.14%",
                marketCap: "8.2ì¡°ì›",
                per: "8.5",
                pbr: "0.9",
                isUp: true
            },
            {
                id: 4,
                name: "í•œêµ­í•­ê³µìš°ì£¼",
                code: "047810",
                sector: "ë°©ìœ„ì‚°ì—…",
                market: "KOSPI",
                price: 42350,
                change: "+1850",
                changeRate: "+4.57%",
                marketCap: "1.9ì¡°ì›",
                per: "18.2",
                pbr: "2.1",
                isUp: true
            },
            {
                id: 5,
                name: "LGí™”í•™",
                code: "051910",
                sector: "í™”í•™",
                market: "KOSPI",
                price: 385000,
                change: "-5000",
                changeRate: "-1.28%",
                marketCap: "27ì¡°ì›",
                per: "22.1",
                pbr: "1.8",
                isUp: false
            },
            {
                id: 6,
                name: "ì¹´ì¹´ì˜¤",
                code: "035720",
                sector: "IT ì„œë¹„ìŠ¤",
                market: "KOSPI",
                price: 58400,
                change: "+900",
                changeRate: "+1.56%",
                marketCap: "25ì¡°ì›",
                per: "N/A",
                pbr: "2.3",
                isUp: true
            },
            {
                id: 7,
                name: "ë„¤ì´ë²„",
                code: "035420",
                sector: "IT ì„œë¹„ìŠ¤",
                market: "KOSPI",
                price: 178500,
                change: "-2500",
                changeRate: "-1.38%",
                marketCap: "29ì¡°ì›",
                per: "16.8",
                pbr: "1.9",
                isUp: false
            },
            {
                id: 8,
                name: "KBê¸ˆìœµ",
                code: "105560",
                sector: "ê¸ˆìœµì—…",
                market: "KOSPI",
                price: 68200,
                change: "+1100",
                changeRate: "+1.64%",
                marketCap: "28ì¡°ì›",
                per: "6.2",
                pbr: "0.5",
                isUp: true
            }
        ];

        let currentSort = 'name';
        let filteredCompanies = [...companiesData];

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            // URL íŒŒë¼ë¯¸í„° í™•ì¸ (ì„¹í„°ì—ì„œ ì˜¨ ê²½ìš°)
            const urlParams = new URLSearchParams(window.location.search);
            const sectorParam = urlParams.get('sector');
            const fromParam = urlParams.get('from');
            
            displayCompanies(companiesData);
            setupEventListeners();
            
            if (sectorParam && fromParam === 'sector') {
                // ì„¹í„° í•„í„° ìë™ ì ìš©
                const sectorFilter = document.getElementById('sector-filter');
                if (sectorFilter) {
                    sectorFilter.value = sectorParam;
                    filterAndDisplay();
                    
                    // ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
                    setTimeout(() => {
                        alert(`${sectorParam} ì‚°ì—…ìœ¼ë¡œ í•„í„°ê°€ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!`);
                    }, 500);
                }
            }
        });

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupEventListeners() {
            // ê²€ìƒ‰ ê¸°ëŠ¥
            document.getElementById('company-search').addEventListener('input', filterAndDisplay);
            
            // í•„í„° ê¸°ëŠ¥
            document.getElementById('sector-filter').addEventListener('change', filterAndDisplay);
            document.getElementById('market-filter').addEventListener('change', filterAndDisplay);
        }

        // í•„í„°ë§ ë° í‘œì‹œ
        function filterAndDisplay() {
            const searchTerm = document.getElementById('company-search').value.toLowerCase();
            const sectorFilter = document.getElementById('sector-filter').value;
            const marketFilter = document.getElementById('market-filter').value;

            filteredCompanies = companiesData.filter(company => {
                const matchesSearch = company.name.toLowerCase().includes(searchTerm) ||
                                    company.code.includes(searchTerm);
                const matchesSector = !sectorFilter || company.sector === sectorFilter;
                const matchesMarket = !marketFilter || company.market === marketFilter;
                
                return matchesSearch && matchesSector && matchesMarket;
            });

            sortCompanies(currentSort, false);
        }

        // ì •ë ¬
        function sortCompanies(sortBy, updateActive = true) {
            if (updateActive) {
                document.querySelectorAll('.sort-btn').forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');
            }
            
            currentSort = sortBy;

            filteredCompanies.sort((a, b) => {
                switch(sortBy) {
                    case 'name':
                        return a.name.localeCompare(b.name);
                    case 'price':
                        return b.price - a.price;
                    case 'change':
                        return parseFloat(b.changeRate) - parseFloat(a.changeRate);
                    default:
                        return 0;
                }
            });

            displayCompanies(filteredCompanies);
        }

        // ê¸°ì—… í‘œì‹œ
        function displayCompanies(companies) {
            const container = document.getElementById('companies-container');
            container.innerHTML = '';

            companies.forEach(company => {
                container.appendChild(createCompanyCard(company));
            });
        }

        // ê¸°ì—… ì¹´ë“œ ìƒì„±
        function createCompanyCard(company) {
            const card = document.createElement('div');
            card.className = 'company-card';
            card.innerHTML = `
                <div class="company-header">
                    <div class="company-info">
                        <div class="company-name">${company.name}</div>
                        <div class="company-code">${company.code}</div>
                        <div class="company-sector">${company.sector}</div>
                    </div>
                    <div class="company-price">
                        <div class="current-price">${company.price.toLocaleString()}ì›</div>
                        <div class="price-change ${company.isUp ? 'price-up' : 'price-down'}">
                            ${company.change} (${company.changeRate})
                        </div>
                    </div>
                </div>
                <div class="company-stats">
                    <div class="stat-item">
                        <div class="stat-value">${company.marketCap}</div>
                        <div class="stat-label">ì‹œê°€ì´ì•¡</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${company.per}</div>
                        <div class="stat-label">PER</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${company.pbr}</div>
                        <div class="stat-label">PBR</div>
                    </div>
                </div>
                <div class="company-actions">
                    <button class="action-btn btn-primary" onclick="analyzeCompany(${company.id})">
                        ğŸ“Š ë¶„ì„í•˜ê¸°
                    </button>
                    <button class="action-btn btn-secondary" onclick="viewFinancials(${company.id})">
                        ğŸ“‹ ì¬ë¬´ì •ë³´
                    </button>
                </div>
            `;
            return card;
        }

        // ê¸°ì—… ë¶„ì„
        function analyzeCompany(companyId) {
            const company = companiesData.find(c => c.id === companyId);
            
            // ê¸°ì—… ë¶„ì„ í˜ì´ì§€ë¡œ ì´ë™
            const params = new URLSearchParams({
                company_id: companyId,
                company_name: company.name,
                company_code: company.code,
                source: 'company'
            });
            
            // ì‹¤ì œ ë¶„ì„ í˜ì´ì§€ë¡œ ì´ë™ (í–¥í›„ êµ¬í˜„ ì˜ˆì •)
            // window.location.href = `company-analysis.html?${params.toString()}`;
            
            // ì„ì‹œë¡œ í™ˆ í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = 'index.html';
        }

        // ì¬ë¬´ì •ë³´ ë³´ê¸°
        function viewFinancials(companyId) {
            const company = companiesData.find(c => c.id === companyId);
            
            // ì¬ë¬´ì •ë³´ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
            const params = new URLSearchParams({
                company_id: companyId,
                company_name: company.name,
                view: 'financials'
            });
            
            // ì‹¤ì œ ì¬ë¬´ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™ (í–¥í›„ êµ¬í˜„ ì˜ˆì •)
            // window.location.href = `company-financials.html?${params.toString()}`;
            
            // ì„ì‹œ ì•Œë¦¼
            alert(`${company.name}ì˜ ìƒì„¸ ì¬ë¬´ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤!\n\ní¬í•¨ ë‚´ìš©:\n- ì†ìµê³„ì‚°ì„œ\n- ì¬ë¬´ìƒíƒœí‘œ\n- í˜„ê¸ˆíë¦„í‘œ\n- ì£¼ìš” ì¬ë¬´ë¹„ìœ¨`);
        }

        // í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜
        function navigateTo(page) {
            const pages = {
                'home': '/static/index.html',
                'news': '/static/news.html', 
                'sector': '/static/sector.html',
                'company': '/static/company.html',
                'mock-invest': '/static/mock-invest.html'
            };
            
            if (page !== 'company') {
                window.location.href = pages[page];
            }
        }
    </script>
</body>
</html>